<h1 class="my-4">Categories</h1>

<%= form_with url: categories_path, method: :get, local: true, class: "mb-3" do %>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="input-group mb-3">
          <%= text_field_tag :search, params[:search], class: 'form-control'%>
          <%= submit_tag "Search", name: nil, class: 'btn btn-primary'%>
        </div>
      </div>
    </div>
  </div>
<% end %>

<%= link_to 'New Category', new_category_path, class: 'btn btn-primary mb-3' %>

<table class="table">
  <thead class="thead-light">
  <tr>
    <th>Code</th>
    <th>Description</th>
    <th colspan="2"></th>
  </tr>
  </thead>

  <tbody>
  <% @categories.each do |category| %>
    <tr>
      <td><%= category.code %></td>
      <td><%= category.description %></td>
      <td><%= link_to 'Edit', edit_category_path(category), class: 'btn btn-warning' %></td>
      <td><%= link_to 'Destroy', category, method: :delete, data: { "turbo-method": :delete, confirm: 'Are you sure?' }, class: 'btn btn-danger' %></td>

    </tr>
  <% end %>
  </tbody>
</table>
